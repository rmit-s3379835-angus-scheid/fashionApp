<h1>Wello Horld!</h1>


<div class="banner"></div>
<div class="row">
        <div class = "col-lg-4 mx-auto " style="background-color:grey;">
          <br>
          <h1 class="font-italic mx-auto mb-4" style="color: #2b2b2b; text-align:left; vertical-align: middle;"><strong>Fashion.com</strong></h1>
      </div>




<!-- Sample from that getting started tutorial -->

<h1>Listing Items</h1>

<table>
  <tr>
    <th>Title</th>
    <th>Text</th>
    <th colspan="3"></th>
  </tr>

  <% favouritesArray = Array.new %>
  <%# end %>

  <% @items.each do |currentItem| %>

    <tr>
      <td><%= currentItem.name %></td>
      <td><%= currentItem.price %></td>
      <td><%= currentItem.category %></td>
      <td><%= currentItem.popularity %></td>

      <td>

      <% #I'm going to do a test of adding items 2 and 4 to an array of favourites, then I will write that to a cookie. %>

      <%#
      if currentItem.id == 2
        favouritesArray.push(currentItem)
      else if currentItem.id == 2
        favouritesArray.push(currentItem)

      %>
      <%# favouritesArray.push(currentItem.id) %>

      <% if currentItem.id == 2
        favouritesArray.push(currentItem.id)
      elsif currentItem.id == 4
        favouritesArray.push(currentItem.id)
      end %>

      <%= puts "whole print: " + favouritesArray.to_s
       %>
       <% #The array appears to be correct. Making cookie now. %>

      <% end %>

      <%#= puts favouritesArray %>
      </td>



      </tr>

      <tr>
      <td>

      <% cookies[:favouritesArrayTest] = favouritesArray.to_json %>

      <%= puts "Current Fav print:" %>
      <%= "Current Fav print:" %>
      <%# @favsReturn = cookies[:favouritesArrayTest] %>
      <% puts cookies[:favouritesArrayTest] %>
      <%=  cookies[:favouritesArrayTest] %>

      <% @currentFavs = cookies[:favouritesArrayTest].scan(/\d+/).map(&:to_i) %>
      <% puts @currentFavs %>

      <% @currentFavs.each do |x| %>
        <%#= Item.where(id: x) %>
        <% @Fitem = Item.find(x) %>
        <% puts @Fitem %>
        <% puts @Fitem.attributes %>
        <%#= Item.where(id: params[:ids]) %>
      <% end %>

      <%# @favsReturn do |currentFav| %>
        <%#= currentFav %>
      <%# end %>
      </td>
      </tr>
      <%# THE BELOW PARTIAL RENDER CODE WORKS CORRECTLY. DO NOT FUCK WITH IT! 10/5/21 4:38PM %>
      <%#= render partial: 'fav_item', locals: {object: currentItem} %>


</table>